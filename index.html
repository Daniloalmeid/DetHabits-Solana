<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DetHabits - Solana</title>
    <link rel="stylesheet" href="styles.css">
    <script src="https://unpkg.com/@solana/web3.js@1.95.3/dist/index.iife.min.js"></script>
    <script src="https://unpkg.com/@solana/spl-token@0.4.8/dist/index.iife.min.js"></script>
    <script src="app.js" defer></script>
</head>
<body>
    <nav id="navbar" class="navbar" style="display: none;">
        <div class="nav-container">
            <div class="nav-logo">DetHabits</div>
            <div class="nav-links">
                <button class="nav-button active" data-page="missions">Miss√µes</button>
                <button class="nav-button" data-page="wallet">Carteira</button>
                <button class="nav-button" data-page="shop">Loja</button>
                <button class="nav-button" data-page="whitepaper">Whitepaper</button>
                <button class="nav-button" data-page="presale">Pr√©-venda</button>
                <div class="wallet-info">
                    <span id="wallet-address"></span>
                    <button id="disconnect-btn">Desconectar</button>
                </div>
            </div>
            <button id="mobile-menu-btn" class="mobile-menu-btn">
                <span></span>
                <span></span>
                <span></span>
            </button>
        </div>
    </nav>

    <!-- Home Page -->
    <div id="home-page" class="page active">
        <div class="hero-card">
            <div class="hero-header">
                <img src="logo.png" alt="DetHabits Logo" class="hero-logo">
                <h1 class="hero-title">DetHabits</h1>
            </div>
            <h2 class="hero-subtitle">Crie H√°bitos, Ganhe Recompensas</h2>
            <p class="hero-description">Complete miss√µes di√°rias, acumule tokens DET e participe da nossa pr√©-venda na blockchain Solana.</p>
            <div class="hero-stats">
                <div class="stat-item">
                    <div class="stat-number">300%</div>
                    <div class="stat-label">Rendimento Anual</div>
                </div>
                <div class="stat-item">
                    <div class="stat-number">5</div>
                    <div class="stat-label">Miss√µes Di√°rias</div>
                </div>
                <div class="stat-item">
                    <div class="stat-number">Solana</div>
                    <div class="stat-label">Blockchain</div>
                </div>
            </div>
            <div class="mobile-instruction">
                No celular? Abra esta URL no navegador interno do Phantom:
                <div id="app-url">https://daniloalmeid.github.io/DetHabits-Solana/</div>
                <button id="copy-url-btn">Copiar URL</button>
            </div>
            <div class="hero-buttons">
                <button id="connect-wallet-btn" class="btn-primary">Conectar Carteira Phantom</button>
                <button id="presale-btn" class="btn-secondary">Ver Pr√©-venda</button>
            </div>
        </div>
    </div>

    <!-- Missions Page -->
    <div id="missions-page" class="page">
        <div class="container">
            <div class="page-header">
                <h1>Miss√µes Di√°rias</h1>
                <div class="missions-timer">Tempo restante: <span id="mission-timer">23:59:59</span></div>
            </div>
            <div class="missions-grid" id="missions-grid"></div>
            <div class="daily-summary">
                <h3 class="summary-title">Resumo Di√°rio</h3>
                <div class="progress-bar">
                    <div class="progress-fill" id="daily-progress" style="width: 0%;"></div>
                </div>
                <div class="summary-stats">
                    Miss√µes conclu√≠das: <span id="completed-missions">0</span> de 5
                </div>
            </div>
        </div>
    </div>

    <!-- Wallet Page -->
    <div id="wallet-page" class="page">
        <div class="container">
            <div class="page-header">
                <h1>Minha Carteira</h1>
                <div class="wallet-address-display" id="wallet-address-full"></div>
            </div>
            <div class="wallet-cards">
                <div class="wallet-card main-balance">
                    <div class="card-header">
                        <h3>Saldo Total DET</h3>
                        <div class="det-icon">üéØ</div>
                    </div>
                    <div class="balance-amount" id="total-balance">0</div>
                    <div class="withdraw-container">
                        <button id="withdraw-btn" class="full-width">Enviar para Carteira Solana</button>
                        <span class="withdraw-notice">Saque m√≠nimo: 800 DET</span>
                    </div>
                </div>
                <div class="wallet-card stake-balance">
                    <div class="card-header">
                        <h3>Stake Obrigat√≥rio</h3>
                        <div class="stake-info">300% ao ano</div>
                    </div>
                    <div class="balance-amount" id="stake-balance">0</div>
                    <div class="stake-details">
                        <div class="stake-detail">
                            <span>Bloqueado por:</span>
                            <span id="stake-time-left">90 dias</span>
                        </div>
                        <div class="stake-detail">
                            <span>Rendimento di√°rio:</span>
                            <span id="daily-yield">+0</span>
                        </div>
                    </div>
                </div>
                <div class="wallet-card stake-voluntary">
                    <div class="card-header">
                        <h3>Stake Volunt√°rio</h3>
                        <div class="stake-info">300% ao ano</div>
                    </div>
                    <div class="balance-amount" id="voluntary-stake-balance">0</div>
                    <div class="stake-input">
                        <input type="number" id="stake-amount-input" placeholder="Quantidade DET para stake" min="1">
                        <button id="stake-voluntary-btn" class="btn-primary">Stake</button>
                        <button id="unstake-voluntary-btn" class="btn-secondary">Retirar Stake</button>
                    </div>
                </div>
                <div class="wallet-card spending-balance">
                    <div class="card-header">
                        <h3>Saldo para Compras</h3>
                        <div class="spending-info">10% das miss√µes</div>
                    </div>
                    <div class="balance-amount" id="spending-balance">0</div>
                </div>
            </div>
            <div class="transaction-history">
                <h3>Hist√≥rico de Transa√ß√µes</h3>
                <div class="history-list" id="transaction-history"></div>
            </div>
        </div>
    </div>

    <!-- Shop Page -->
    <div id="shop-page" class="page">
        <div class="container">
            <div class="page-header">
                <h1>Loja</h1>
                <div class="shop-balance">Saldo: <span id="shop-balance">0 DET</span></div>
            </div>
            <div class="shop-categories">
                <button class="category-btn active" data-category="all">Todos</button>
                <button class="category-btn" data-category="badges">Emblemas</button>
                <button class="category-btn" data-category="skins">Skins</button>
                <button class="category-btn" data-category="avatars">Avatares</button>
            </div>
            <div class="shop-grid">
                <div class="shop-item" data-category="badges">
                    <div class="item-image">üèÖ</div>
                    <div class="item-info">
                        <h4>Emblema de Iniciante</h4>
                        <p>Mostre que voc√™ come√ßou sua jornada!</p>
                    </div>
                    <div class="item-price">50 DET</div>
                    <button class="buy-btn">Comprar</button>
                </div>
                <div class="shop-item" data-category="skins">
                    <div class="item-image">üé®</div>
                    <div class="item-info">
                        <h4>Skin de Tema Escuro</h4>
                        <p>Personalize sua interface com um tema escuro.</p>
                    </div>
                    <div class="item-price">100 DET</div>
                    <button class="buy-btn">Comprar</button>
                </div>
                <div class="shop-item" data-category="avatars">
                    <div class="item-image">üòé</div>
                    <div class="item-info">
                        <h4>Avatar Her√≥i</h4>
                        <p>Um avatar √©pico para sua conta.</p>
                    </div>
                    <div class="item-price">75 DET</div>
                    <button class="buy-btn">Comprar</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Whitepaper Page -->
    <div id="whitepaper-page" class="page">
        <div class="container">
            <div class="page-header">
                <h1>Whitepaper</h1>
                <div class="document-meta">Vers√£o 1.0 | √öltima atualiza√ß√£o: 10/10/2023</div>
            </div>
            <div class="whitepaper-content">
                <div class="wp-section">
                    <h2>Introdu√ß√£o</h2>
                    <p>DetHabits √© uma plataforma que incentiva a cria√ß√£o de h√°bitos saud√°veis por meio de recompensas em tokens DET na blockchain Solana...</p>
                </div>
            </div>
        </div>
    </div>

    <!-- Presale Page -->
    <div id="presale-page" class="page">
        <div class="container">
            <div class="page-header">
                <h1>Pr√©-venda</h1>
                <div class="status-badge">Ativa</div>
            </div>
            <div class="presale-hero">
                <div class="presale-info">
                    <h2>Participe da Pr√©-venda do DET</h2>
                    <p>Adquira tokens DET com desconto antes do lan√ßamento oficial. Use SOL para comprar e fa√ßa parte da revolu√ß√£o dos h√°bitos!</p>
                </div>
                <div class="presale-stats">
                    <div class="stat-card">
                        <div class="stat-number">1,000,000</div>
                        <div class="stat-label">Tokens Dispon√≠veis</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-number">0.0001 SOL</div>
                        <div class="stat-label">Pre√ßo por DET</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-number">30 Dias</div>
                        <div class="stat-label">Tempo Restante</div>
                    </div>
                </div>
            </div>
            <div class="presale-calculator">
                <h3>Calculadora de Pr√©-venda</h3>
                <div class="calculator-form">
                    <div class="input-group">
                        <label for="sol-amount">Quantidade em SOL</label>
                        <input type="number" id="sol-amount" placeholder="0.00" step="0.01">
                    </div>
                    <div class="conversion-arrow">‚Üì</div>
                    <div class="input-group">
                        <label for="det-amount">Quantidade em DET</label>
                        <input type="text" id="det-amount" readonly>
                    </div>
                    <button id="buy-presale-btn" class="btn-primary full-width">Comprar DET</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Photo Upload Modal -->
    <div id="photo-modal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 id="modal-mission-title">Miss√£o</h3>
                <button id="close-modal" class="close-btn">&times;</button>
            </div>
            <div class="modal-body">
                <p>Fa√ßa upload de uma foto para comprovar a conclus√£o da miss√£o.</p>
                <div class="photo-upload-area">
                    <label for="photo-input" class="photo-upload-label">
                        <div class="upload-icon">üì∑</div>
                        Escolher Foto
                    </label>
                    <input type="file" id="photo-input" accept="image/*">
                    <div id="photo-preview"></div>
                </div>
                <button id="submit-mission-btn" class="btn-primary full-width" disabled>Enviar Miss√£o</button>
            </div>
        </div>
    </div>

    <!-- Loading Overlay -->
    <div id="loading-overlay" class="loading-overlay">
        <div class="loading-spinner"></div>
        <p>Carregando...</p>
    </div>

    <!-- Toast Notifications -->
    <div id="toast-container" class="toast-container"></div>
</body>
</html>